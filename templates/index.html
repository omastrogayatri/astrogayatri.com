<!DOCTYPE html>
<html>
<head>
    <title>Dynamic Location Selector</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h2>Select Location</h2>
    <form action="/submit" method="post">
        <label for="country">Country:</label>
        <select id="country" name="country">
            <option value="">Select Country</option>
            <option value="India">India</option>
            <option value="USA">USA</option>
        </select>

        <label for="state">State:</label>
        <select id="state" name="state">
            <option value="">Select State</option>
        </select>

        <label for="city">City:</label>
        <select id="city" name="city">
            <option value="">Select City</option>
        </select>

        <button type="submit">Submit</button>
    </form>

    <script>
        $('#country').change(function() {
            var country = $(this).val();
            $.get('/get_states', { country: country }, function(states) {
                $('#state').empty().append('<option value="">Select State</option>');
                $('#city').empty().append('<option value="">Select City</option>');
                states.forEach(function(state) {
                    $('#state').append('<option value="' + state + '">' + state + '</option>');
                });
            });
        });

        $('#state').change(function() {
            var state = $(this).val();
            $.get('/get_cities', { state: state }, function(cities) {
                $('#city').empty().append('<option value="">Select City</option>');
                cities.forEach(function(city) {
                    $('#city').append('<option value="' + city + '">' + city + '</option>');
                });
            });
        });
    </script>
</body>
</html>
